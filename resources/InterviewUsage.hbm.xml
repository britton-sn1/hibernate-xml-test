<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class name="com.javahelps.hibernate.InterviewUsage" 
		table="INTERVIEW_USAGE_2">
		<composite-id>
			<key-property name="userName" type="string" />
			<key-property name="path" type="string" />
		</composite-id>

		<property name="totalUsage" type="integer" />
		
		 <!--set name="interviewDownloadCounts" table="INTERVIEW_DOWNLOAD_COUNTS" cascade="all" inverse="true">
             <key column="userName" path" not-null="true"></key>
             <one-to-many class="com.javahelps.hibernate.InterviewDowwnloadCount"/>
         </set-->

	</class>
	
	<class name="com.javahelps.hibernate.InterviewDowwnloadCount" table="INTERVIEW_DOWNLOAD_COUNT" >
        <composite-id name="id" class="com.javahelps.hibernate.InterviewDowwnloadCountId">
			<key-property name="exportType" type="string" />
        </composite-id>
        <many-to-one name="report" class="com.javahelps.hibernate.InterviewUsage">
        	<column name="userName"/>
        	<column name="path"/>
        </many-to-one>
		<property name="downloads" type="integer" />
    </class>
	
</hibernate-mapping>

